import{r,o as d,c as u,a as e,b as s,w as t,F as h,d as n,e as l}from"./app.eeb85bd8.js";import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";const m={},_=e("h1",{id:"system-requirements",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#system-requirements","aria-hidden":"true"},"#"),n(" System Requirements")],-1),b={class:"custom-container tip"},w=e("p",{class:"custom-container-title"},"Universal VPS infra available",-1),f=n("Check our "),v={href:"https://github.com/chevereto/vps",target:"_blank",rel:"noopener noreferrer"},g=n("VPS"),k=n(" universal bash script for all-included worry-free server setup."),C=e("p",null,"Minimum machine requirements:",-1),y=e("strong",null,"Note:",-1),x=n(" When running with minimum requirements it is recommended to "),q={href:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04",target:"_blank",rel:"noopener noreferrer"},P=n("add swap space"),I=n("."),S=e("ul",null,[e("li",null,"1GB RAM"),e("li",null,"1 CPU")],-1),V=e("h2",{id:"software-requirements",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#software-requirements","aria-hidden":"true"},"#"),n(" Software requirements")],-1),L=n("Server requirements"),N=n("Container requirements"),R=e("h2",{id:"cron",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#cron","aria-hidden":"true"},"#"),n(" Cron")],-1),O=n("A "),T={href:"https://en.wikipedia.org/wiki/Cron",target:"_blank",rel:"noopener noreferrer"},E=n("cron"),G=n(" is required to process the application background jobs. A cron is system in which a command is executed in a regular basis, this way Chevereto can perform operations in the background."),H=l('<div class="custom-container tip"><p class="custom-container-title">Check your server documentation</p><p>This cron setup reference applies only for Debian-based servers with root access. We <strong>strongly recommend</strong> checking your server documentation on how to setup and run cron.</p></div><h3 id="command" tabindex="-1"><a class="header-anchor" href="#command" aria-hidden="true">#</a> Command</h3><p>The command should be run by the web-server user which is <code>www-data</code> (may vary). To run the command in Chevereto it requires to call PHP binary at the Chevereto CLI.</p><div class="custom-container tip"><p class="custom-container-title">PHP binary</p><p>Use <code>which php</code> to locate the PHP binary as its location may vary in different systems and configurations.</p></div><p>Command below uses <code>sudo -u www-data</code> to run the command as <code>www-data</code> user permissions. PHP binary is at <code>php</code> and the Chevereto CLI is at <code>/var/www/html/cli.php</code>. The command argument passed to Chevereto is <code>-C cron</code>.</p>',5),B=e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),n(" -u www-data php /var/www/html/cli.php -C "),e("span",{class:"token function"},"cron"),n(`
`)])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),M=e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),n(" -u www-data "),e("span",{class:"token assign-left variable"},"IS_CRON"),e("span",{class:"token operator"},"="),e("span",{class:"token number"},"1"),n(` php /var/www/html/cron.php
`)])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),j=e("h4",{id:"docker-command",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#docker-command","aria-hidden":"true"},"#"),n(" Docker command")],-1),A=e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[n("docker "),e("span",{class:"token builtin class-name"},"exec"),n(" -it "),e("span",{class:"token punctuation"},"\\"),n(`
    --user www-data `),e("span",{class:"token punctuation"},"\\"),n(`
    chevereto-container php /var/www/html/cli.php -C `),e("span",{class:"token function"},"cron"),n(`
`)])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br")])],-1),F=e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[n("docker "),e("span",{class:"token builtin class-name"},"exec"),n(" -it "),e("span",{class:"token punctuation"},"\\"),n(`
    --user www-data `),e("span",{class:"token punctuation"},"\\"),n(`
    -e `),e("span",{class:"token assign-left variable"},"IS_CRON"),e("span",{class:"token operator"},"="),e("span",{class:"token number"},"1"),n(),e("span",{class:"token punctuation"},"\\"),n(`
    chevereto-container php /var/www/html/cron.php
`)])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),U=e("h3",{id:"cron-d-file",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#cron-d-file","aria-hidden":"true"},"#"),n(" Cron.d file")],-1),W=n("With a "),D={href:"https://manpages.debian.org/stretch/cron/cron.8",target:"_blank",rel:"noopener noreferrer"},z=n("cron.d file"),J=n(" the cron can be easily setup. For example:"),K=l(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span>/etc/cron.d/chevereto <span class="token operator">&lt;&lt;</span><span class="token string">EOM
* * * * * www-data php /var/www/html/cli.php -C cron
EOM</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="cron-schedule" tabindex="-1"><a class="header-anchor" href="#cron-schedule" aria-hidden="true">#</a> Cron schedule</h3>`,2),Q=n("In the instruction above "),X={href:"https://crontab.guru/#*_*_*_*_*",target:"_blank",rel:"noopener noreferrer"},Y=n("* * * * *"),Z=n(" is the cron schedule to run every minute."),$=e("div",{class:"custom-container danger"},[e("p",{class:"custom-container-title"},"Suit your context"),e("p",null,"The above default cron works when running our official provisioning. If you don't use our server provisioning you will be required to alter the default instructions for user, PHP binary and Chevereto CLI location. Refer to your system documentation.")],-1);function ee(ne,se){const o=r("ExternalLinkIcon"),c=r("RouterLink"),a=r("CodeGroupItem"),i=r("CodeGroup");return d(),u(h,null,[_,e("div",b,[w,e("p",null,[f,e("a",v,[g,s(o)]),k])]),C,e("p",null,[y,x,e("a",q,[P,s(o)]),I]),S,V,e("ul",null,[e("li",null,[s(c,{to:"/en/setup/server/requirements.html"},{default:t(()=>[L]),_:1})]),e("li",null,[s(c,{to:"/en/setup/container/requirements.html"},{default:t(()=>[N]),_:1})])]),R,e("p",null,[O,e("a",T,[E,s(o)]),G]),H,s(i,null,{default:t(()=>[s(a,{title:"V3.20+"},{default:t(()=>[B]),_:1}),s(a,{title:"Older"},{default:t(()=>[M]),_:1})]),_:1}),j,s(i,null,{default:t(()=>[s(a,{title:"V3.20+"},{default:t(()=>[A]),_:1}),s(a,{title:"Older"},{default:t(()=>[F]),_:1})]),_:1}),U,e("p",null,[W,e("a",D,[z,s(o)]),J]),K,e("p",null,[Q,e("a",X,[Y,s(o)]),Z]),$],64)}var ae=p(m,[["render",ee]]);export{ae as default};
