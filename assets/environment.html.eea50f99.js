import{r as n,o as i,c as h,a as e,b as a,w as r,F as _,d as t,e as o}from"./app.32562cb7.js";import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";const c={},E=e("h1",{id:"system-environment",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#system-environment","aria-hidden":"true"},"#"),t(" System Environment")],-1),p=e("p",null,"These are the system level settings that can be used to tweak Chevereto provisioning.",-1),b=e("h2",{id:"passing-values",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#passing-values","aria-hidden":"true"},"#"),t(" Passing values")],-1),u=e("p",null,"To pass settings to Chevereto is recommended to use system level environment variables.",-1),v={class:"custom-container tip"},m=e("p",{class:"custom-container-title"},"Settings file",-1),T=t("If is not possible to use environment variables you can use the "),g=t("settings file"),f=t(" to configure the Chevereto variables."),S=e("h3",{id:"apache-http-web-server-php-module",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#apache-http-web-server-php-module","aria-hidden":"true"},"#"),t(" Apache HTTP Web Server (PHP module)")],-1),R=t("If PHP is provided using "),O=e("code",null,"mpm_prefork",-1),A=t(" you must refer to the documentation on "),C={href:"https://httpd.apache.org/docs/current/env.html",target:"_blank",rel:"noopener noreferrer"},y=t("Apache HTTP Server environment variables"),V=t(". You may check our real use cases at "),H={href:"https://github.com/chevereto/vultr-marketplace/blob/main/files/var/lib/cloud/scripts/per-instance/provision.sh",target:"_blank",rel:"noopener noreferrer"},x=t("chevereto/vultr-marketplace"),P=t("."),I=e("h3",{id:"other-setups",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#other-setups","aria-hidden":"true"},"#"),t(" Other setups")],-1),k=t("For these you will be running "),D={href:"https://www.php.net/manual/en/install.fpm.configuration.php",target:"_blank",rel:"noopener noreferrer"},L=t("PHP-FPM"),B=t(" so you can add those settings at your "),w=e("code",null,"php-fpm.conf",-1),G=t(" file."),M=o('<h3 id="application-servers" tabindex="-1"><a class="header-anchor" href="#application-servers" aria-hidden="true">#</a> Application servers</h3><p>For these you will be running PHP CLI so you should be able to pass those at <code>php.ini</code> for your CLI. You can also <code>export</code> those in your shell. Refer to the documentation of each application server for the best way to pass those to Chevereto.</p><h3 id="container" tabindex="-1"><a class="header-anchor" href="#container" aria-hidden="true">#</a> Container</h3><p>Pass the environment variables to the container run command or at <code>docker compose</code> layer.</p><h2 id="assets-variables" tabindex="-1"><a class="header-anchor" href="#assets-variables" aria-hidden="true">#</a> Assets variables</h2><p>Environment variables for storing assets that can be uploaded to any of the supported external storage APIs.</p><p>Note that assets refers to user provided assets such as avatars and backgrounds, also website graphics like logos and homepage covers.</p>',7),N=t("Check "),F=t("External storage"),K=t(" for adding external storage servers for user content uploads."),U=o('<table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_ASSET_STORAGE_ACCOUNT_ID</td><td>asset_storage_account_id</td><td>123</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_ACCOUNT_NAME</td><td>asset_storage_account_name</td><td>account_name</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_BUCKET</td><td>asset_storage_bucket</td><td>bucket</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_KEY</td><td>asset_storage_key</td><td>key</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_NAME</td><td>asset_storage_name</td><td>assets</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_REGION</td><td>asset_storage_region</td><td>us-west-2</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_SECRET</td><td>asset_storage_secret</td><td>secret</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_SERVER</td><td>asset_storage_server</td><td>server</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_SERVICE</td><td>asset_storage_service</td><td>service</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_TYPE</td><td>asset_storage_type</td><td>s3</td></tr><tr><td>CHEVERETO_ASSET_STORAGE_URL</td><td>asset_storage_url</td><td><code>&lt;url&gt;/bucket</code></td></tr></tbody></table><h2 id="database-variables" tabindex="-1"><a class="header-anchor" href="#database-variables" aria-hidden="true">#</a> Database variables</h2><p>Environment variables for the database details.</p><table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_DB_DRIVER</td><td>db_driver</td><td>mysql</td></tr><tr><td>CHEVERETO_DB_HOST</td><td>db_host</td><td>mariadb</td></tr><tr><td>CHEVERETO_DB_NAME</td><td>db_name</td><td>chevereto</td></tr><tr><td>CHEVERETO_DB_PASS</td><td>db_pass</td><td>user_database_password</td></tr><tr><td>CHEVERETO_DB_PDO_ATTRS</td><td>db_pdo_attrs</td><td><code>{&quot;key&quot;:&quot;value&quot;}</code> (json)</td></tr><tr><td>CHEVERETO_DB_PORT</td><td>db_port</td><td><code>3306</code></td></tr><tr><td>CHEVERETO_DB_TABLE_PREFIX</td><td>db_table_prefix</td><td>chv_</td></tr><tr><td>CHEVERETO_DB_USER</td><td>db_user</td><td>chevereto</td></tr></tbody></table><h2 id="debug-variables" tabindex="-1"><a class="header-anchor" href="#debug-variables" aria-hidden="true">#</a> Debug variables</h2>',5),q=t("Environment variables for "),Y=t("debug"),X=t("."),j=o('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>When using Docker it logs to <code>/dev/stderr</code> regardless this configuration.</p></div><table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_DEBUG_LEVEL</td><td>debug_level</td><td><code>1</code></td></tr><tr><td>CHEVERETO_ERROR_LOG</td><td>error_log</td><td>/var/log/chevereto-error.log</td></tr></tbody></table><h2 id="session-variables" tabindex="-1"><a class="header-anchor" href="#session-variables" aria-hidden="true">#</a> Session variables</h2><p>Environment variables for the session driver.</p><table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_SESSION_SAVE_HANDLER</td><td>session.save_handler</td><td><code>redis</code> <code>files</code></td></tr><tr><td>CHEVERETO_SESSION_SAVE_PATH</td><td>session.save_path</td><td><code>tcp://redis</code> <code>/tmp</code></td></tr></tbody></table><h2 id="image-handling-variables" tabindex="-1"><a class="header-anchor" href="#image-handling-variables" aria-hidden="true">#</a> Image handling variables</h2><p>Environment variables for controlling image handling.</p><table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_IMAGE_FORMATS_AVAILABLE</td><td>image_formats_available</td><td><code>&#39;JPG&#39;,&#39;PNG&#39;,&#39;BMP&#39;,&#39;GIF&#39;,&#39;WEBP&#39;</code></td></tr><tr><td>CHEVERETO_IMAGE_LIBRARY</td><td>image_library</td><td><code>imagick</code> <code>gd</code></td></tr></tbody></table><h2 id="hostname-variables" tabindex="-1"><a class="header-anchor" href="#hostname-variables" aria-hidden="true">#</a> Hostname variables</h2><p>Environment variables for the hostname configuration.</p><table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_HOSTNAME</td><td>hostname</td><td>chevereto.loc</td></tr><tr><td>CHEVERETO_HOSTNAME_PATH</td><td>hostname_path</td><td>/</td></tr><tr><td>CHEVERETO_HTTPS</td><td>https</td><td><code>true</code></td></tr></tbody></table><h2 id="system-context-variables" tabindex="-1"><a class="header-anchor" href="#system-context-variables" aria-hidden="true">#</a> System context variables</h2><p>Environment variables for the context where Chevereto system is being provided. Depending on where you run it, you may want to disable sensitive functionality.</p><table><thead><tr><th>Variable</th><th>Setting Key</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_DISABLE_PHP_PAGES</td><td>disable_php_pages</td><td><code>false</code></td></tr><tr><td>CHEVERETO_DISABLE_UPDATE_HTTP</td><td>disable_update_http</td><td><code>false</code></td></tr><tr><td>CHEVERETO_DISABLE_UPDATE_CLI</td><td>disable_update_cli</td><td><code>false</code></td></tr><tr><td>CHEVERETO_ENABLE_HTACCESS_CHECK</td><td>htaccess_enforce</td><td><code>true</code></td></tr></tbody></table><h2 id="file-upload-variables" tabindex="-1"><a class="header-anchor" href="#file-upload-variables" aria-hidden="true">#</a> File upload variables</h2><p>Environment variables for the file uploading limits. Note that the following environment variables will work for container provisioning.</p><table><thead><tr><th>Variable</th><th>Example</th></tr></thead><tbody><tr><td>CHEVERETO_UPLOAD_MAX_FILESIZE</td><td>50M</td></tr><tr><td>CHEVERETO_POST_MAX_SIZE</td><td>50M</td></tr><tr><td>CHEVERETO_MAX_EXECUTION_TIME</td><td>30</td></tr><tr><td>CHEVERETO_MEMORY_LIMIT</td><td>512M</td></tr></tbody></table>',17),W=t("For "),Z=e("strong",null,"non-container",-1),J=t(" based provisioning you need to change those at "),z=t("php.ini configuration"),Q=t(".");function $(tt,et){const d=n("RouterLink"),s=n("ExternalLinkIcon");return i(),h(_,null,[E,p,b,u,e("div",v,[m,e("p",null,[T,a(d,{to:"/en/setup/server/settings-file.html"},{default:r(()=>[g]),_:1}),f])]),S,e("p",null,[R,O,A,e("a",C,[y,a(s)]),V,e("a",H,[x,a(s)]),P]),I,e("p",null,[k,e("a",D,[L,a(s)]),B,w,G]),M,e("p",null,[N,a(d,{to:"/en/settings/external-storage.html"},{default:r(()=>[F]),_:1}),K]),U,e("p",null,[q,a(d,{to:"/en/setup/troubleshoot/debug.html"},{default:r(()=>[Y]),_:1}),X]),j,e("p",null,[W,Z,J,a(d,{to:"/en/setup/system/requirements.html#php-configuration"},{default:r(()=>[z]),_:1}),Q])],64)}var rt=l(c,[["render",$]]);export{rt as default};
