import{r as c,o,c as u,a as s,b as a,w as t,F as r,e as p,d as n}from"./app.eeb85bd8.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const k={},b=p('<h1 id="\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C" aria-hidden="true">#</a> \u8FD0\u884C</h1><h2 id="\u6301\u4E45\u5C42" tabindex="-1"><a class="header-anchor" href="#\u6301\u4E45\u5C42" aria-hidden="true">#</a> \u6301\u4E45\u5C42</h2><h3 id="\u8D44\u4EA7\u5B58\u50A8" tabindex="-1"><a class="header-anchor" href="#\u8D44\u4EA7\u5B58\u50A8" aria-hidden="true">#</a> \u8D44\u4EA7\u5B58\u50A8</h3><div class="custom-container tip"><p class="custom-container-title">\u672C\u5730\u8D44\u4EA7\u5B58\u50A8</p><p>\u8981\u4F7F\u7528\u672C\u5730\u5B58\u50A8\uFF0C\u9700\u8981\u5728\u5E94\u7528\u7A0B\u5E8F\u53EF\u89C1\u7684\u8DEF\u5F84\u4E2D\u5B89\u88C5\u9002\u5F53\u7684\u5377\u3002</p></div>',4),_=n("\u5BF9\u4E8E\u8D44\u4EA7\u5B58\u50A8\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528\u4EFB\u4F55\u53D7\u652F\u6301\u7684 "),d=n("\u5916\u90E8\u5B58\u50A8"),h=n(" API\u3002\u8FD9\u9700\u8981\u914D\u7F6E\u4F20\u9012"),m=n("\u8D44\u4EA7\u73AF\u5883\u53D8\u91CF"),E=n("\u3002"),T=s("h3",{id:"\u4F1A\u8BDD",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u4F1A\u8BDD","aria-hidden":"true"},"#"),n(" \u4F1A\u8BDD")],-1),y=n("\u5BF9\u4E8E\u6301\u4E45\u4F1A\u8BDD\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E "),v=n("\u4F1A\u8BDD\u73AF\u5883\u53D8\u91CF"),S=n(" \u53D8\u91CF\u6765\u4F7F\u7528 Redis\u3002"),R=p(`<h3 id="\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93" aria-hidden="true">#</a> \u6570\u636E\u5E93</h3><p>\u5BF9\u4E8E\u6570\u636E\u5E93\uFF0C\u60A8\u53EF\u4EE5\u4E3A\u6301\u4E45\u6027\u521B\u5EFA\u4E00\u4E2A\u5377\uFF0C\u6216\u901A\u8FC7\u7F51\u7EDC\u4F7F\u7528\u670D\u52A1\u5668\u3002\u5982\u679C\u60A8\u624B\u52A8\u63D0\u4F9B\u6570\u636E\u5E93\uFF0C\u60A8\u5C06\u9700\u8981\u521B\u5EFA\u5176\u7528\u6237\u7ED1\u5B9A\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker <span class="token builtin class-name">exec</span> chv-mariadb mysql -uroot -ppassword -e <span class="token string">&quot;CREATE DATABASE chevereto; \\
    CREATE USER &#39;chevereto&#39; IDENTIFIED BY &#39;user_database_password&#39;; \\
    GRANT ALL ON chevereto.* TO &#39;chevereto&#39; IDENTIFIED BY &#39;user_database_password&#39;;&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="\u7528\u6237\u4E0A\u4F20\u5B58\u50A8" tabindex="-1"><a class="header-anchor" href="#\u7528\u6237\u4E0A\u4F20\u5B58\u50A8" aria-hidden="true">#</a> \u7528\u6237\u4E0A\u4F20\u5B58\u50A8</h3>`,4),O=n("\u8FD9\u4E2A\u6301\u4E45\u5C42\u53EF\u4EE5\u5728\u5E94\u7528\u7A0B\u5E8F"),A=n("\u4EEA\u8868\u677F\u9762\u677F"),g=n("\u4E2D\u914D\u7F6E\u3002"),w=s("h2",{id:"\u64B0\u5199",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u64B0\u5199","aria-hidden":"true"},"#"),n(" \u64B0\u5199")],-1),C={class:"custom-container tip"},f=s("p",{class:"custom-container-title"},"\u63D0\u793A",-1),H=n("\u68C0\u67E5 "),V=n("Environment"),x=n(" \u4EE5\u83B7\u53D6\u53EF\u4EE5\u5728 Docker \u547D\u4EE4\u4E2D\u4F20\u9012\u7684 "),D=s("code",null,"-e",-1),B=n(" \u9009\u9879\u3002"),G=n("\u5728\u4EE5\u4E0B\u793A\u4F8B\u4E2D\uFF0C\u5377\u7528\u4E8E\u6240\u6709\u6570\u636E\u6301\u4E45\u6027\u3002\u4F7F\u7528\u7684\u56FE\u50CF\u662F "),L={href:"https://github.com/chevereto/container-builder/blob/3.20/httpd-php.Dockerfile",target:"_blank",rel:"noopener noreferrer"},P=n("httpd-php"),N=n("\uFF0C\u5176\u4E2D\u5305\u542B Apache HTTP Web \u670D\u52A1\u5668\u3002"),I=p(`<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">chv-database</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mariadb<span class="token punctuation">:</span>focal
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> chv<span class="token punctuation">-</span>network
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> chv<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/mysql
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> password
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> chevereto
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> chevereto
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> user_database_password

  <span class="token key atrule">chv-build</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> owner/image<span class="token punctuation">:</span>httpd<span class="token punctuation">-</span>php
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> chv<span class="token punctuation">-</span>network
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> chv<span class="token punctuation">-</span>storage<span class="token punctuation">:</span>/var/www/html/images/
      <span class="token punctuation">-</span> chv<span class="token punctuation">-</span>assets<span class="token punctuation">:</span>/var/www/html/_assets/
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">CHEVERETO_DB_HOST</span><span class="token punctuation">:</span> chv<span class="token punctuation">-</span>database
      <span class="token key atrule">CHEVERETO_DB_USER</span><span class="token punctuation">:</span> chevereto
      <span class="token key atrule">CHEVERETO_DB_PASS</span><span class="token punctuation">:</span> user_database_password
      <span class="token key atrule">CHEVERETO_DB_PORT</span><span class="token punctuation">:</span> <span class="token number">3306</span>
      <span class="token key atrule">CHEVERETO_DB_NAME</span><span class="token punctuation">:</span> chevereto
      <span class="token key atrule">CHEVERETO_HTTPS</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_TYPE</span><span class="token punctuation">:</span> local
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_URL</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8080/_assets/
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_BUCKET</span><span class="token punctuation">:</span> /var/www/html/_assets/

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">chv-data</span><span class="token punctuation">:</span>
  <span class="token key atrule">chv-assets</span><span class="token punctuation">:</span>
  <span class="token key atrule">chv-storage</span><span class="token punctuation">:</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">chv-network</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div>`,1),U=s("strong",null,"\u6CE8\u610F",-1),Y=n(),M=s("code",null,"CHEVERETO_ASSET_STORAGE",-1),q=n(" \u6620\u5C04\u5230\u5B89\u88C5\u7684\u5377 "),F=s("code",null,"chv-assets",-1),Q=n(" \u548C\u76F8\u540C\u7684 URL\u3002\u8FD9\u53EF\u4EE5\u6620\u5C04\u5230\u4EFB\u4F55\u652F\u6301\u7684 "),K=n("\u5916\u90E8\u5B58\u50A8"),W=n(" API\uFF1A"),j=p(`<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>  <span class="token key atrule">chv-build</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> owner/image<span class="token punctuation">:</span>httpd<span class="token punctuation">-</span>php
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> chv<span class="token punctuation">-</span>network
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">CHEVERETO_DB_HOST</span><span class="token punctuation">:</span> chv<span class="token punctuation">-</span>database
      <span class="token key atrule">CHEVERETO_DB_USER</span><span class="token punctuation">:</span> chevereto
      <span class="token key atrule">CHEVERETO_DB_PASS</span><span class="token punctuation">:</span> user_database_password
      <span class="token key atrule">CHEVERETO_DB_PORT</span><span class="token punctuation">:</span> <span class="token number">3306</span>
      <span class="token key atrule">CHEVERETO_DB_NAME</span><span class="token punctuation">:</span> chevereto
      <span class="token key atrule">CHEVERETO_HTTPS</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_NAME</span><span class="token punctuation">:</span> assets
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_TYPE</span><span class="token punctuation">:</span> s3
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_KEY</span><span class="token punctuation">:</span>  key
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_SECRET</span><span class="token punctuation">:</span> secret
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_BUCKET</span><span class="token punctuation">:</span> bucket<span class="token punctuation">-</span>name
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_URL</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//s3<span class="token punctuation">-</span>us<span class="token punctuation">-</span>west<span class="token punctuation">-</span>1.amazonaws.com/bucket<span class="token punctuation">-</span>name/
      <span class="token key atrule">CHEVERETO_ASSET_STORAGE_REGION</span><span class="token punctuation">:</span> s3<span class="token punctuation">-</span>us<span class="token punctuation">-</span>west<span class="token punctuation">-</span><span class="token number">1</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="\u9996\u8F6E" tabindex="-1"><a class="header-anchor" href="#\u9996\u8F6E" aria-hidden="true">#</a> \u9996\u8F6E</h2>`,2),z=n("\u8BF7\u53C2\u9605"),J=n("\u7B2C\u4E00\u6B65"),X=n(" \u8BF4\u660E\u3002");function Z($,nn){const e=c("RouterLink"),l=c("ExternalLinkIcon");return o(),u(r,null,[b,s("p",null,[_,a(e,{to:"/features/integrations/external-storage.html"},{default:t(()=>[d]),_:1}),h,a(e,{to:"/setup/system/environment.html#assets-variables"},{default:t(()=>[m]),_:1}),E]),T,s("p",null,[y,a(e,{to:"/setup/system/environment.html#session-variables"},{default:t(()=>[v]),_:1}),S]),R,s("p",null,[O,a(e,{to:"/settings/external-storage.html"},{default:t(()=>[A]),_:1}),g]),w,s("div",C,[f,s("p",null,[H,a(e,{to:"/setup/system/environment.html"},{default:t(()=>[V]),_:1}),x,D,B])]),s("p",null,[G,s("a",L,[P,a(l)]),N]),I,s("p",null,[U,Y,M,q,F,Q,a(e,{to:"/features/integrations/external-storage.html"},{default:t(()=>[K]),_:1}),W]),j,s("p",null,[z,a(e,{to:"/manual/first-steps/"},{default:t(()=>[J]),_:1}),X])],64)}var en=i(k,[["render",Z]]);export{en as default};
